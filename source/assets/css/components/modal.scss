.modal {
  z-index: 300;
  left: -9999px;
  top: 0;

  @extend
    %E-border-radius-sm,
    %E-height-full-vh,
    %E-position-fixed,
    %E-width-full-vw;

  &::before {
    opacity: 0;

    @extend
      %E-bgc-white,
      %E-pseudo-elem,
      %E-width-full,
      %E-height-full;
  }
}

.modal__inner {
  width: 40rem;

  will-change: transform;

  @extend
    %E-absolute-center-xy,
    %E-bgc-white,
    %E-border-radius-sm,
    %E-flex-row,
    %E-height-full-vh,
    %E-max-width-full,
    %E-overflow-y-hidden,
    %E-shadow-prime-black;

  @include above('sm') {
    // height: 100%;
    height: auto;
    min-height: 5rem;
    max-height: 90vh;
  }
}

.modal__header {
  top: 0;
  left: 0;
  height: 1.75rem;

  @extend
    %E-position-absolute,
    %E-width-full;
}

.modal__close {
  margin-left: calc(100% - 1.5rem);
}

.modal__content {
  margin-top: 1.75rem;
  max-height: calc(90vh - 1.75rem); // must use units for Edge scroll

  @extend
    %E-overflow-y-auto,
    %E-pad-sm;
}

////////////////////////////////////////////////////////////
//  Behaviour
////////////////////////////////////////////////////////////


.modal.JS-active {
  left: 0;

  &::before {
    animation: FadeInSkin 300ms linear;
    animation-delay: 400ms;
  }

  .modal__inner {
    animation: SlideUpInCenter 300ms ease-out;
  }
}

// Must declare after
.modal.JS-active::before,
.modal.JS-active .modal__inner {
  animation-fill-mode: forwards;
}
