/ Core
/**************************************************

/ Partial data
- partialData = hashify(local_data[:side_card_data])

/ Nested content types
- featuredAuthor = partialData[:author]
- featuredPage = partialData[:page]
- featuredProduct = partialData[:product]
- featuredRegistration = partialData[:registration]
- featuredData = [ featuredAuthor, featuredPage, featuredProduct, featuredRegistration ].compact[0]

/ Set data source
- setData = featuredData ? featuredData : partialData

/ Content vars
/**************************************************

/ Category
- category = setData[:category].gsub("-", " ")
- pageCategory = @entry[:category].gsub("-", " ")

/ Images
- imageBanner = setData[:banner_image]
- imageProduct = setData[:image]
- if imageBanner || imageProduct
  - image = imageBanner ? imageBanner : imageProduct
  - imageURL = image[:url]
  - imageAlt = image[:alt]
  - imageFocus = image[:focus]

/ locals
- featuredItem = local_data[:featured]

/ Types
/**************************************************

/ Card types
- isBlogCard = (category == 'blog')
- isEventsCard = (category == 'events')
- isIntelligenceCard = (category == 'intelligence')
- isResearchCard = (category == 'research')
- isResourcesCard = (category == 'resources')

- hasRegistration = (category == 'research')

/ Dates
- dateTime = setData[:date_time]
- dateTimeReg = featuredData ? setData[:alt_date_time] : altData(setData, { type: "date_time", content_type: "registration" })

/ Alternative sub categories
- if isEventsCard || isResourcesCard
  - categoryAlt = featuredData \
    ? setData[:alt_category].gsub("-", " ") \
    : altData(setData, { type: "category", content_type: isEventsCard ? "registration" : "product" }).gsub("-", " ")

- featuredRegistration || featuredProduct


/ Side card elem
/**************************************************

article.side-card{
  class="side-card--#{ featuredRegistration ? pageCategory : category }"
  class="#{ 'side-card--featured' if featuredItem }"
}
  .side-card__inner
    .side-card__image{
      class="#{ image ? 'side-card__image--overlay' : 'side-card__image--' + pageCategory }"
    }

      / If banner image
      - if image
        img.b-lazy{
          src="data:image/png;base64,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"
          data-src="#{ imageURL }#{ ('?fit=fill&w=229&h=324&f=' + imageFocus + '&q=50&fl=progressive') if imageBanner }"
          alt="#{ imageAlt }"
        }

      - if featuredRegistration
        = partial 'partials/date',
          locals: { local_data: \
            { date_data: dateTime }}

    .side-card__content
      .side-card__meta

        - if isResearchCard || isIntelligenceCard || featuredRegistration || featuredProduct
          span.label-xs.e-col-mid-grey= category

        - if isResourcesCard
          span.label-xs.e-col-mid-grey= categoryAlt

        - if isBlogCard
          span.label-xs.e-col-mid-grey #{ category } / #{ dateTime[:date] }

        - if isEventsCard
          span.label-xs.e-col-mid-grey #{ categoryAlt } / #{ dateTimeReg[:date] }

      .side-card__title

        / Not registration or product
        - if !featuredRegistration && !featuredProduct
          h1.title-sm
            a.JS-truncate{
              href="#{ internalURL(setData[:slug], category) }"
              class="#{ featuredItem ? 'link-white' : 'link' }"
            }= setData[:title]
        - else
          h1.title-sm.JS-truncate{
            class="#{ featuredItem ? 'e-col-white' : 'e-col-green'}"
          }= featuredProduct ? setData[:title] : setData[:venue]

      / Is product or registration
      - if featuredRegistration || featuredProduct
        .side-card__actions{
          class="#{ featuredItem ? 'e-col-white' : 'e-col-green'}"
        }

          - if featuredProduct

            - if setData[:price] == 0
              = partial 'partials/btn',
                locals: { local_data: \
                  { type: 'link', size: 'sm', style: 'primary',
                    label: 'Download', label_size: 'sm', url: setData[:download] }}

            - if setData[:price] > 0
              = partial 'partials/btn',
                locals: { local_data: \
                  { type: 'link', size: 'sm', style: 'primary', product: setData,
                    label: "Buy (£#{ setData[:price] })", label_size: 'sm' }}

          / Registration
          - if featuredRegistration

            - if setData[:date_time][:integer] < Time.now.strftime('%s').to_i
              p
                strong CLOSED

            - else

              - @price == setData[:price]

              / Modal window
              = partial 'partials/modal',
                locals: { local_data: \
                  { id: setData[:modal][:cta_id],
                    content: setData[:modal][:content] }}

              / Modal button
              = partial 'partials/btn',
                locals: { local_data: \
                  { type: 'state',
                    size: 'sm', style: 'primary',
                    label_on: 'Register now', label_off: 'Close', label_size: 'sm',
                    page: 'no-scroll', switch: true,
                    aria_id: "activate-#{ setData[:modal][:cta_id] }",
                    aria_target_id: setData[:modal][:cta_id] }}
