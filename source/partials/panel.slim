section.panel{
  class="#{ panel.panel_type == 'basic' ? 'panel--flow' : nil }"
}
  .panel__content

    .panel__main.copy{
      class="#{ 'panel__main--order-2' if panel.image }"
    }

      / Title
      h2.title.title--medium{
        style="#{ 'font-size: 2.25rem; text-align:center;' if panel.panel_type == 'header' }"
      }= panel.title

      / Copy
      = Kramdown::Document.new(panel.panel_type == 'header' ? panel.copy + "\n {: .byline .byline--center}" : panel.copy).to_html

      - if panel.calls_to_action != nil
        / Calls to action
        .panel__actions{
          class="#{ 'panel__actions--center' if panel.panel_type == 'header' }"
        }

          - panel.calls_to_action.each do |cta|

            - if cta.action == 'modal'
              .js-state-local.modal-is.js-off
                = partial 'partials/modal',
                  locals: \
                  { title: cta.title,
                    content: cta.modal }

                / Modal button
                = partial 'partials/button-state',
                  locals: \
                  { type: 'secondary',
                    size: 'small',
                    icon: nil,
                    text: \
                    { on: cta.button_text,
                      off: 'Close' },
                    animation: nil,
                    state: \
                    { scope: 'local',
                      action: 'js-on',
                      page: 'js-page-overlay',
                      aria_id: "",
                      aria_target_id: "",
                      excl: true }}

            - if cta.action == 'download'

              / Modal button
              = partial 'partials/button-link',
                locals: \
                { type: 'primary',
                  size: 'medium',
                  text: cta.button_text,
                  url: cta.file.url }


    / If image
    - if panel.image
      .panel__aside{
        class="#{ 'panel__aside--order-1' if panel.image }"
      }
        = partial 'partials/text-image',
          locals: \
          { url: panel.image.url,
            alt: panel.image.alt }
