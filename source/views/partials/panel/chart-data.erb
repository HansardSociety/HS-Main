<%
chartData = local_data[:chart_data]
isDev = false
# isDev = true
%>
<script class="chart__config" type="application/json">
<% if isDev %>

{
  "type": "line",
  "data": {
    "datasets": [{
      "data": [
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1
      ],
      "label": "Dates",
      "datasetID": "ds-01"
    }],
    "labels": [
      "1 Sept",
      "2 Sept",
      "3 Sept",
      "4 Sept",
      "5 Sept",
      "6 Sept",
      "7 Sept",
      "8 Sept",
      "9 Sept",
      "10 Sept",
      "11 Sept",
      "12 Sept",
      "13 Sept",
      "14 Sept",
      "15 Sept",
      "16 Sept",
      "17 Sept",
      "18 Sept",
      "19 Sept",
      "20 Sept",
      "21 Sept",
      "22 Sept",
      "23 Sept",
      "24 Sept",
      "25 Sept",
      "26 Sept",
      "27 Sept",
      "28 Sept",
      "29 Sept",
      "30 Sept"
    ]
  },
  "options": {
    "tooltips": {
      "enabled": false
    },
    "legend": false,
    "scales": {
      "xAxes": [{
        "id": "x-axis"
      }],
      "yAxes": [{
        "id": "y-axis",
        "ticks": {
          "max": 2,
          "min": 0,
          "stepSize": 1,
          "display": false
        }
      }]
    }
  },
  "customConfig": {
    "colors": [{
      "palette": ["#ed7a6a"],
      "datasetIDs": ["ds-01"]
    }],
    "annotations": [
      {
        "type": "axisLineVertical",
        "label": {
          "content": "Both Houses return",
          "xAdjust": -50,
          "yAdjust": 20,
          "position": "top"
        },
        "axisID": "x-axis",
        "position": "1 Sept"
      },
      {
        "type": "axisLineVertical",
        "label": {
          "content": "Spending Review",
          "xAdjust": 0,
          "yAdjust": 60,
          "position": "bottom"
        },
        "axisID": "x-axis",
        "position": "4 Sept"
      },
      {
        "type": "axisLineVertical",
        "label": {
          "content": "Debate on NI(EF)A motion due",
          "xAdjust": 0,
          "yAdjust": 20,
          "position": "top"
        },
        "axisID": "x-axis",
        "position": "9 Sept"
      }
    ]
  }
}

<% else %>
{
  "type": "<%= chartData[:chart_type] %>",
  "data": {
    "datasets": <%= chartData[:chart_datasets] %>,
    "labels": <%= chartData[:chart_labels] %>
  },
  "options": <%= chartData[:chart_options] %>,
  "customConfig": <%= chartData[:chart_custom_config] %>
}
<% end %>
</script>
