<%
chartData = local_data[:chart_data]
isDev = false
%>
<script class="chart__config" type="application/json">
<% if isDev %>
{
  "type": "line",
  "data": {
    "datasets": [{
      "data": [20, 21, 21, 22, 22, 22, 22, 23, 24, 25, 25, 26, 27, 28, 29, 30],
      "type": "line",
      "label": "Certainty to vote",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "certainty-to-vote"
    }, {
      "data": [15, 16, 16, 18, 18, 18, 20, 21, 15, 20, 20, 24, 23, 22, 17, 19],
      "type": "line",
      "label": "Interest in politics",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "interest-in-politics"
    }, {
      "data": [12, 14, 14, 16, 16, 12, 13, 18, 10, 16, 18, 20, 21, 19, 15, 17],
      "type": "line",
      "label": "Knowledge of politics",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "knowledge-of-politics"
    }, {
      "data": [10, 12, 12, 14, 14, 10, 11, 16, 8, 14, 16, 16, 18, 15, 12, 13],
      "type": "line",
      "label": "Knoweldge of Parliament",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "knowledge-of-parliament"
    }, {
      "data": [8, 10, 9, 11, 12, 8, 7, 14, 4, 11, 14, 13, 16, 14, 10, 10],
      "type": "line",
      "label": "Efficacy",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "efficacy"
    }, {
      "data": [4, 7, 6, 9, 8, 4, 5, 12, 2, 9, 10, 8, 15, 12, 8],
      "type": "line",
      "label": "Satisfaction",
      "xAxisID": "x-audit",
      "yAxisID": "y-percentage",
      "datasetID": "satisfaction"
    }],
    "labels": []
  },
  "options": {
    "legend": {
      "position": "bottom"
    },
    "scales": {
      "xAxes": [{
        "id": "x-audit",
        "type": "category",
        "labels": ["Audit 1", "Audit 2", "Audit 3", "Audit 4", "Audit 5", "Audit 6", "Audit 7", "Audit 8", "Audit 9", "Audit 10", "Audit 11", "Audit 12", "Audit 13", "Audit 14", "Audit 15", "Audit 16"],
        "scaleLabel": {
          "labelString": "Audit edition (2004 - 2019)"
        }
      }],
      "yAxes": [{
        "id": "y-percentage",
        "ticks": {
          "max": 50,
          "min": 0,
          "stepSize": 5
        },
        "scaleLabel": {
          "labelString": "Percentage of respondents"
        }
      }]
    }
  },
  "customConfig": {
    "colors": [{
      "palette": ["#04655a"],
      "datasetIDs": ["certainty-to-vote"]
    }, {
      "palette": ["#80557d"],
      "datasetIDs": ["interest-in-politics"]
    }, {
      "palette": ["#e85037"],
      "datasetIDs": ["knowledge-of-politics"]
    }, {
      "palette": ["#e85037"],
      "datasetIDs": ["knowledge-of-parliament"]
    }, {
      "palette": ["#374452"],
      "datasetIDs": ["efficacy"]
    }, {
      "palette": ["#374452"],
      "datasetIDs": ["satisfaction"]
    }]
  }
}
<% else %>
{
  "type": "<%= chartData[:chart_type] %>",
  "data": {
    "datasets": <%= chartData[:chart_datasets] %>,
    "labels": <%= chartData[:chart_labels] %>
  },
  "options": <%= chartData[:chart_options] %>,
  "customConfig": <%= chartData[:chart_custom_config] %>
}
<% end %>
</script>
