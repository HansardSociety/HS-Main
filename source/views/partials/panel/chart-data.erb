<%
chartData = local_data[:chart_data]
isDev = false
# isDev = true
%>
<script class="chart__config" type="application/json">
<% if isDev %>
{
  "type": "doughnut",
  "data": {
    "datasets": [{
      "type": "doughnut",
      "data": [
        32,
        38,
        30,
        0,
        0,
        0,
        0,
        0
      ],
      "datasetID": "ds-01"
    }, {
      "type": "doughnut",
      "data": [
        0,
        0,
        0,
        10,
        22,
        19,
        19,
        30
      ],
      "datasetID": "ds-02"
    }],
    "labels": [
      "At least a few times a week",
      "Less than weekly",
      "Never",
      "Nearly every day",
      "A few times a week",
      "A few times a month",
      "Less often",
      "Never"
    ]
  },
  "options": {
    "aspectRatio": 1
  },
  "customConfig": {
    "colors": [{
      "palette": [
        "#2a6c62",
        "#f89734",
        "#c1343e",
        "#2a6c62",
        "#74948f",
        "#f89734",
        "#faa955",
        "#c1343e"
      ],
      "datasetIDs": [
        "ds-01",
        "ds-02"
      ]
    }],
    "annotations": [{
      "fontSize": "large",
      "fontColor": "white",
      "datasetIDs": [
        "ds-01",
        "ds-02"
      ]
    }]
  }
}

<% else %>
{
  "type": "<%= chartData[:chart_type] %>",
  "data": {
    "datasets": <%= chartData[:chart_datasets] %>,
    "labels": <%= chartData[:chart_labels] %>
  },
  "options": <%= chartData[:chart_options] %>,
  "customConfig": <%= chartData[:chart_custom_config] %>
}
<% end %>
</script>
