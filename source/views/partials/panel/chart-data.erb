<%
chartData = local_data[:chart_data]
isDev = false
# isDev = true
%>
<script class="chart__config" type="application/json">
<% if isDev %>



{
  "type": "bar",
  "data": {
    "datasets": [{
      "data": [
          1,
          0,
          1,
          0,
          0,
          1,
          3,
          3,
          16,
          7,
          3
      ],
      "label": "Coronavirus SIs",
      "xAxisID": "x-sis-weekly",
      "yAxisID": "y-sis-number",
      "datasetID": "coronavirus-sis"
    }, {
      "data": [
        23,
        26,
        14,
        3,
        14,
        28,
        37,
        25,
        20,
        13,
        3

      ],
      "label": "Total SIs",
      "xAxisID": "x-sis-weekly",
      "yAxisID": "y-sis-number",
      "datasetID": "total-sis"
    }],
    "labels": []
  },
  "options": {
    "scales": {
      "xAxes": [{
        "id": "x-sis-weekly",
        "type": "category",
        "labels": [
          "27 Jan - 2 Feb",
          "3 - 9 Feb",
          "10 - 16 Feb",
          "17 - 23 Feb",
          "24 Feb - 1 Mar",
          "2 - 8 Mar",
          "9 - 15 Mar",
          "16 - 22 Mar",
          "23 - 29 Mar",
          "30 Mar - 5 Apr",
          "6 - 12 Apr",
          "13 - 19 Apr"
        ],
        "scaleLabel": {
          "labelString": "Week commencing"
        }
      }],
      "yAxes": [{
        "id": "y-sis-number",
        "ticks": {
          "max": 50,
          "min": 0,
          "stepSize": 5
        },
        "scaleLabel": {
          "labelString": "Number of SIs"
        }
      }]
    }
  },
  "customConfig": {
    "colors": [{
      "palette": ["#04655a", "#97bbbb"],
      "datasetIDs": ["coronavirus-sis", "total-sis"]
    }]
  }
}


<% else %>
{
  "type": "<%= chartData[:chart_type] %>",
  "data": {
    "datasets": <%= chartData[:chart_datasets] %>,
    "labels": <%= chartData[:chart_labels] %>
  },
  "options": <%= chartData[:chart_options] %>,
  "customConfig": <%= chartData[:chart_custom_config] %>
}
<% end %>
</script>
